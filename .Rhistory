tab.scandal$by.exposure$results
# Setup ------------------------------------------------------------------------
# packages
pkgs <- c(
"data.table",
"zoo",
"knitr",
"xtable"
)
lapply(pkgs, library, character.only = TRUE)
options(knitr.kable.NA = '')
# quiet xtable
options(xtable.comment = FALSE)
# directories
setwd("..")
# load tables
reg.scandal <- readRDS("tab/reg_scandal.Rds")
tab.scandal <- readRDS("tab/summary_stats_scandal.Rds")
# ------------------------------------------------------------------------------
# number of columns
nc <- ncol(tab.scandal$by.scandal$results)
# add caption and panel headers
add.to.row <- list(pos = list(-1), command = NULL)
command <- c(
# -1
paste0(
"\\multicolumn{", (nc + 1), "}{p{.975\\textwidth}}{",
tab.scandal$by.scandal$caption, "}\\\\\n \\addlinespace"))
add.to.row$command <- command
# convert table to latex
print(
xtable(tab.scandal$by.scandal$results,
align = paste(c("ll", rep("Z", (nc - 1))), collapse = ""),
caption = tab.scandal$by.scandal$title,
label = "tab:snapShot200308",
display = c("s", rep("f", nc)),
digits = 2
),
sanitize.text.function = function(x){x},
booktabs = TRUE,
add.to.row = add.to.row,
size = "\\scriptsize",
tabular.environment = "tabularx",
width="0.975\\textwidth",
caption.placement = 'top',
format.args = list(big.mark = ",", drop0trailing = TRUE),
include.rownames = FALSE
)
# number of columns
nc <- ncol(tab.scandal$by.scandal$results)
# add caption and panel headers
add.to.row <- list(pos = list(-1), command = NULL)
command <- c(
# -1
paste0(
"\\multicolumn{", nc, "}{p{.975\\textwidth}}{",
tab.scandal$by.scandal$caption, "}\\\\\n \\addlinespace"))
add.to.row$command <- command
# convert table to latex
print(
xtable(tab.scandal$by.scandal$results,
align = paste(c("ll", rep("Z", (nc - 1))), collapse = ""),
caption = tab.scandal$by.scandal$title,
label = "tab:snapShot200308",
display = c("s", rep("f", nc)),
digits = 2
),
sanitize.text.function = function(x){x},
booktabs = TRUE,
add.to.row = add.to.row,
size = "\\scriptsize",
tabular.environment = "tabularx",
width="0.975\\textwidth",
caption.placement = 'top',
format.args = list(big.mark = ",", drop0trailing = TRUE),
include.rownames = FALSE
)
# label columns
setnames(reg.scandal$iv$results,
c("Dep. Var.:", "$\\ln(AS)$", "$\\ln(TL^{-1/2})$", "$\\ln(L)$",
"$\\ln(S)$", "$\\ln(D)$", "$\\ln(C)$", "$\\ln(B)$"))
# add caption and panel headers
rb <- nrow(reg.scandal$iv$sub.results$w1yr)
nc <- ncol(reg.scandal$iv$results)
add.to.row <- list(pos = list(-1, 0, 0, rb, rb, rb), command = NULL)
command <- c(
# -1
paste0(
"\\multicolumn{", nc, "}{p{.975\\textwidth}}{",
reg.scandal$iv$caption, "}\\\\\n\\addlinespace"),
# 0
"\\midrule \\\\\n",
# 0
paste0("\\multicolumn{", nc, "}{c}{\\textbf{Panel A: 1 year window}}\\\\\n"),
# Panel B
"\\midrule \\\\\n",
# Panel B
paste0("\\multicolumn{", nc, "}{c}{\\textbf{Panel B: 2 year window}} \\\\\n"),
# Panel B
"\\midrule ")
add.to.row$command <- command
# print the table
print(
xtable(reg.scandal$iv$results,
align = paste(c("ll", rep("Y", (nc - 1))), collapse = ""),
caption = reg.scandal$iv$title,
label = "tab:scandal2SLS"
),
sanitize.text.function = function(x){x},
booktabs = TRUE,
add.to.row = add.to.row,
size = "\\scriptsize",
tabular.environment = "tabularx",
width="0.975\\textwidth",
include.rownames = FALSE,
caption.placement = 'top'
)
# label columns
setnames(reg.scandal$iv.bm$results,
c("Dep. Var.:", "$\\ln(AS)$", "$\\ln(TL^{-1/2})$", "$\\ln(L)$",
"$\\ln(S)$", "$\\ln(D)$", "$\\ln(C)$", "$\\ln(B)$"))
# add caption and panel headers
rb <- nrow(reg.scandal$iv.bm$sub.results$w1yr)
nc <- ncol(reg.scandal$iv.bm$results)
add.to.row <- list(pos = list(-1, 0, 0, rb, rb, rb), command = NULL)
command <- c(
# -1
paste0(
"\\multicolumn{", nc, "}{p{.975\\textwidth}}{",
reg.scandal$iv.bm$caption, "}\\\\\n\\addlinespace"),
# 0
"\\midrule \\\\\n",
# 0
paste0("\\multicolumn{", nc, "}{c}{\\textbf{Panel A: 1 year window}}\\\\\n"),
# Panel B
"\\midrule \\\\\n",
# Panel B
paste0("\\multicolumn{", nc, "}{c}{\\textbf{Panel B: 2 year window}} \\\\\n"),
# Panel B
"\\midrule ")
add.to.row$command <- command
# print the table
print(
xtable(reg.scandal$iv.bm$results,
align = paste(c("ll", rep("Y", (nc - 1))), collapse = ""),
caption = reg.scandal$iv.bm$title,
label = "tab:scandal2SLSmXbim"
),
sanitize.text.function = function(x){x},
booktabs = TRUE,
add.to.row = add.to.row,
size = "\\scriptsize",
tabular.environment = "tabularx",
width="0.975\\textwidth",
include.rownames = FALSE,
caption.placement = 'top'
)
setwd("writeup")
#bookdown::render_book("index.Rmd", "bookdown::gitbook")
bookdown::render_book("index.Rmd", "bookdown::pdf_book")
# Setup ------------------------------------------------------------------------
# packages
pkgs <- c(
"data.table",
"zoo",
"knitr",
"xtable",
"ggplot2",
"gridExtra"
)
lapply(pkgs, library, character.only = TRUE)
options(knitr.kable.NA = '')
# quiet xtable
options(xtable.comment = FALSE)
# directories
setwd("..")
# load tables
summary.tab <- readRDS("tab/summary_stats.Rds")
# load figures
summary.fig <- readRDS("fig/summary_plots.Rds")
# custom colors
azure <- "#007FFF"
orangebrown <- "#E67300"
lgreen <- "#00eb76"
# -----------------------------------------------------------------------------
# add caption and panel headers
rb <- nrow(summary.tab$correlations$sub.results$unconditional)
nc <- ncol(summary.tab$correlations$results)
add.to.row <- list(
pos = list(-1, 0, 0, rb, rb, rb),
command = NULL)
command <- c(
# -1
paste0(
"\\multicolumn{", (nc + 1), "}{p{.975\\textwidth}}{",
summary.tab$correlations$caption, "}\\\\\n\\addlinespace"),
# 0
"\\midrule \\\\\n",
# 0
paste0(
"\\multicolumn{", (nc + 1), "}{c}{\\textbf{Panel A: Unconditional}}\\\\\n"),
# Panel B
"\\midrule \\\\\n",
# Panel B
paste0(
"\\multicolumn{", (nc + 1), "}{c}{\\textbf{Panel B: Within-fund correlations}} \\\\\n"),
# Panel B
"\\midrule "
)
add.to.row$command <- command
print(
xtable(summary.tab$correlations$results,
align = paste(c("l|", rep("Z", (nc - 1))), collapse = ""),
caption = summary.tab$correlations$title,
label = "tab:correlations",
display = c("s", rep("f", nc)),
digits = 2
),
sanitize.text.function = function(x){x},
booktabs = TRUE,
add.to.row = add.to.row,
size = "\\scriptsize",
tabular.environment = "tabularx",
width="0.975\\textwidth",
caption.placement = 'top'
)
print(
xtable(summary.tab$correlations$results,
align = paste(c("ll|", rep("Z", (nc - 1))), collapse = ""),
caption = summary.tab$correlations$title,
label = "tab:correlations",
display = c("s", rep("f", nc)),
digits = 2
),
sanitize.text.function = function(x){x},
booktabs = TRUE,
add.to.row = add.to.row,
size = "\\scriptsize",
tabular.environment = "tabularx",
width="0.975\\textwidth",
caption.placement = 'top',
include.rownames = FALSE
)
add.to.row <- list(
pos = list(-1, 0, 0, rb, rb, rb),
command = NULL)
command <- c(
# -1
paste0(
"\\multicolumn{", nc, "}{p{.975\\textwidth}}{",
summary.tab$correlations$caption, "}\\\\\n\\addlinespace"),
# 0
"\\midrule \\\\\n",
# 0
paste0(
"\\multicolumn{", nc, "}{c}{\\textbf{Panel A: Unconditional}}\\\\\n"),
# Panel B
"\\midrule \\\\\n",
# Panel B
paste0(
"\\multicolumn{", nc, "}{c}{\\textbf{Panel B: Within-fund correlations}} \\\\\n"),
# Panel B
"\\midrule "
)
add.to.row$command <- command
# convert table to latex
print(
xtable(summary.tab$correlations$results,
align = paste(c("ll|", rep("Z", (nc - 1))), collapse = ""),
caption = summary.tab$correlations$title,
label = "tab:correlations",
display = c("s", rep("f", nc)),
digits = 2
),
sanitize.text.function = function(x){x},
booktabs = TRUE,
add.to.row = add.to.row,
size = "\\scriptsize",
tabular.environment = "tabularx",
width="0.975\\textwidth",
caption.placement = 'top',
include.rownames = FALSE
)
# add caption and panel headers
rb <- nrow(summary.tab$correlations$sub.results$unconditional)
nc <- ncol(summary.tab$correlations$results)
# add caption and panel headers
add.to.row <- list(
pos = list(-1, 0, 0, rb, rb, rb),
command = NULL)
command <- c(
# -1
paste0(
"\\multicolumn{", nc, "}{p{.975\\textwidth}}{",
summary.tab$correlations$caption, "}\\\\\n\\addlinespace"),
# 0
paste0("\\midrule",  "\\\\\n"),
# 0
paste0("\\multicolumn{", nc, "}{c}{\\textbf{Panel A: Unconditional}}\\\\\n"),
# Panel B
paste0("\\midrule", "\\multicolumn{", nc, "} \\\\\n"),
# Panel B
paste0("\\multicolumn{", nc, "}{c}{\\textbf{Panel B: Within-fund correlations}} \\\\\n"),
# Panel B
"\\midrule "
)
add.to.row$command <- command
# convert table to latex
print(
xtable(summary.tab$correlations$results,
align = paste(c("ll|", rep("Z", (nc - 1))), collapse = ""),
caption = summary.tab$correlations$title,
label = "tab:correlations",
display = c("s", rep("f", nc)),
digits = 2
),
sanitize.text.function = function(x){x},
booktabs = TRUE,
add.to.row = add.to.row,
size = "\\scriptsize",
tabular.environment = "tabularx",
width="0.975\\textwidth",
caption.placement = 'top',
include.rownames = FALSE
)
add.to.row <- list(
pos = list(-1, 0, 0, rb, rb, rb),
command = NULL)
command <- c(
# -1
paste0(
"\\multicolumn{", nc, "}{p{.975\\textwidth}}{",
summary.tab$correlations$caption, "}\\\\\n\\addlinespace"),
# 0
paste0("\\midrule",  "\\\\\n"),
# 0
paste0("\\multicolumn{", nc, "}{c}{\\textbf{Panel A: Unconditional}}\\\\\n"),
# Panel B
paste0("\\midrule", "\\multicolumn{c}{", nc, "} \\\\\n"),
# Panel B
paste0("\\multicolumn{", nc, "}{c}{\\textbf{Panel B: Within-fund correlations}} \\\\\n"),
# Panel B
"\\midrule "
)
add.to.row$command <- command
# convert table to latex
print(
xtable(summary.tab$correlations$results,
align = paste(c("ll|", rep("Z", (nc - 1))), collapse = ""),
caption = summary.tab$correlations$title,
label = "tab:correlations",
display = c("s", rep("f", nc)),
digits = 2
),
sanitize.text.function = function(x){x},
booktabs = TRUE,
add.to.row = add.to.row,
size = "\\scriptsize",
tabular.environment = "tabularx",
width="0.975\\textwidth",
caption.placement = 'top',
include.rownames = FALSE
)
# add caption and panel headers
add.to.row <- list(
pos = list(-1, 0, 0, rb, rb, rb),
command = NULL)
command <- c(
# -1
paste0(
"\\multicolumn{", nc, "}{p{.975\\textwidth}}{",
summary.tab$correlations$caption, "}\\\\\n\\addlinespace"),
# 0
paste0("\\midrule",  "\\\\\n"),
# 0
paste0("\\multicolumn{", nc, "}{c}{\\textbf{Panel A: Unconditional}}\\\\\n"),
# Panel B
paste0("\\midrule", "\\multicolumn{", nc, "}{c}{} \\\\\n"),
# Panel B
paste0("\\multicolumn{", nc, "}{c}{\\textbf{Panel B: Within-fund correlations}} \\\\\n"),
# Panel B
"\\midrule "
)
add.to.row$command <- command
# convert table to latex
print(
xtable(summary.tab$correlations$results,
align = paste(c("ll|", rep("Z", (nc - 1))), collapse = ""),
caption = summary.tab$correlations$title,
label = "tab:correlations",
display = c("s", rep("f", nc)),
digits = 2
),
sanitize.text.function = function(x){x},
booktabs = TRUE,
add.to.row = add.to.row,
size = "\\scriptsize",
tabular.environment = "tabularx",
width="0.975\\textwidth",
caption.placement = 'top',
include.rownames = FALSE
)
add.to.row <- list(
pos = list(-1, 0, 0, rb, rb, rb),
command = NULL)
command <- c(
# -1
paste0(
"\\multicolumn{", nc, "}{p{.975\\textwidth}}{",
summary.tab$correlations$caption, "}\\\\\n\\addlinespace"),
# 0
paste0("\\midrule \\multicolumn{", nc, "}{c}{} \\\\\n"),
# 0
paste0("\\multicolumn{", nc, "}{c}{\\textbf{Panel A: Unconditional}}\\\\\n"),
# Panel B
paste0("\\midrule \\multicolumn{", nc, "}{c}{} \\\\\n"),
# Panel B
paste0("\\multicolumn{", nc, "}{c}{\\textbf{Panel B: Within-fund correlations}} \\\\\n"),
# Panel B
"\\midrule "
)
add.to.row$command <- command
# convert table to latex
print(
xtable(summary.tab$correlations$results,
align = paste(c("ll|", rep("Z", (nc - 1))), collapse = ""),
caption = summary.tab$correlations$title,
label = "tab:correlations",
display = c("s", rep("f", nc)),
digits = 2
),
sanitize.text.function = function(x){x},
booktabs = TRUE,
add.to.row = add.to.row,
size = "\\scriptsize",
tabular.environment = "tabularx",
width="0.975\\textwidth",
caption.placement = 'top',
include.rownames = FALSE
)
# Setup ------------------------------------------------------------------------
# packages
pkgs <- c(
"data.table",
"zoo",
"knitr",
"xtable",
"ggplot2",
"gridExtra"
)
lapply(pkgs, library, character.only = TRUE)
options(knitr.kable.NA = '')
# quiet xtable
options(xtable.comment = FALSE)
# directories
setwd("..")
# load tables
summary.tab <- readRDS("tab/summary_stats.Rds")
# load figures
summary.fig <- readRDS("fig/summary_plots.Rds")
# custom colors
azure <- "#007FFF"
orangebrown <- "#E67300"
lgreen <- "#00eb76"
# -----------------------------------------------------------------------------
# Correlations -----------------------------------------------------------------
# add caption and panel headers
rb <- nrow(summary.tab$correlations$sub.results$unconditional)
nc <- ncol(summary.tab$correlations$results)
# add caption and panel headers
add.to.row <- list(
pos = list(-1, 0, 0, rb, rb, rb),
command = NULL)
command <- c(
# -1
paste0(
"\\multicolumn{", nc, "}{p{.975\\textwidth}}{",
summary.tab$correlations$caption, "}\\\\\n\\addlinespace"),
# 0
paste0("\\midrule \\multicolumn{", nc, "}{c}{} \\\\\n"),
# 0
paste0("\\multicolumn{", nc, "}{c}{\\textbf{Panel A: Unconditional}}\\\\\n"),
# Panel B
paste0("\\midrule \\multicolumn{", nc, "}{c}{} \\\\\n"),
# Panel B
paste0("\\multicolumn{", nc, "}{c}{\\textbf{Panel B: Within-fund correlations}} \\\\\n"),
# Panel B
"\\midrule "
)
add.to.row$command <- command
# convert table to latex
print(
xtable(summary.tab$correlations$results,
align = paste(c("ll|", rep("Z", (nc - 1))), collapse = ""),
caption = summary.tab$correlations$title,
label = "tab:correlations",
display = c("s", rep("f", nc)),
digits = 2
),
sanitize.text.function = function(x){x},
booktabs = TRUE,
add.to.row = add.to.row,
size = "\\scriptsize",
tabular.environment = "tabularx",
width="0.975\\textwidth",
caption.placement = 'top',
include.rownames = FALSE
)
# ------------------------------------------------------------------------------
bookdown::render_book("index.Rmd", "bookdown::pdf_book")
bookdown::render_book("index.Rmd", "bookdown::pdf_book")
source('C:/Users/laszlo/Dropbox/Research/MF_Industry_Size_R/writeup/render_book.R', echo=TRUE)
